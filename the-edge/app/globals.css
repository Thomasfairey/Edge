@import "tailwindcss";

/* ================================================================ */
/* Tiimo-inspired design tokens                                      */
/* ================================================================ */

:root {
  /* Core backgrounds */
  --background: #FAF9F6;
  --surface: #FFFFFF;
  --border: #F0EDE8;

  /* Text hierarchy */
  --text-primary: #2D2B3D;
  --text-secondary: #8E8C99;
  --text-tertiary: #B5B3BD;

  /* Phase colours */
  --phase-learn: #B8D4E3;
  --phase-learn-tint: #EFF6FA;
  --phase-learn-muted: #5B8BA8;
  --phase-simulate: #F2C4C4;
  --phase-simulate-tint: #FDF2F2;
  --phase-simulate-muted: #D4908F;
  --phase-debrief: #C5B8E8;
  --phase-debrief-tint: #F3F0FA;
  --phase-debrief-muted: #7B6BA8;
  --phase-deploy: #B8E0C8;
  --phase-deploy-tint: #F0FAF4;
  --phase-deploy-muted: #5A9A7A;

  /* Accent */
  --accent: #6C63FF;
  --accent-light: #EEEDFF;

  /* Scores */
  --score-high: #6BC9A0;
  --score-mid: #F5C563;
  --score-low: #E88B8B;

  /* Coach */
  --coach-bg: #FFF8E7;
  --coach-muted: #C4A24E;

  /* Shadows */
  --shadow-soft: 0 2px 12px rgba(0, 0, 0, 0.04);
  --shadow-elevated: 0 8px 24px rgba(0, 0, 0, 0.06);
}

@theme inline {
  --color-background: var(--background);
  --color-surface: var(--surface);
  --color-border: var(--border);
  --color-primary: var(--text-primary);
  --color-secondary: var(--text-secondary);
  --color-tertiary: var(--text-tertiary);
  --color-accent: var(--accent);
  --color-accent-light: var(--accent-light);
  --color-score-high: var(--score-high);
  --color-score-mid: var(--score-mid);
  --color-score-low: var(--score-low);
}

body {
  background: var(--background);
  color: var(--text-primary);
}

/* ================================================================ */
/* Scrollbar                                                         */
/* ================================================================ */

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

/* ================================================================ */
/* Animations                                                        */
/* ================================================================ */

@keyframes pulse-dot {
  0%, 80%, 100% { opacity: 0.3; }
  40% { opacity: 1; }
}
.loading-dot:nth-child(1) { animation: pulse-dot 1.4s infinite 0s; }
.loading-dot:nth-child(2) { animation: pulse-dot 1.4s infinite 0.2s; }
.loading-dot:nth-child(3) { animation: pulse-dot 1.4s infinite 0.4s; }

@keyframes phase-dot-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}
.phase-dot-active { animation: phase-dot-pulse 2s ease-in-out infinite; }

@keyframes fade-in-up {
  0% { opacity: 0; transform: translateY(8px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-fade-in-up { animation: fade-in-up 300ms ease-out forwards; }

@keyframes completion-pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}
.animate-completion { animation: completion-pop 400ms ease-out; }

/* Confetti dots */
@keyframes confetti-drift {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-60px) scale(0.5); }
}
.confetti-dot {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  animation: confetti-drift 1.2s ease-out forwards;
}

/* Phase transitions */
.phase-enter { opacity: 0; transform: translateY(8px); }
.phase-active { opacity: 1; transform: translateY(0); transition: all 300ms ease-out; }
.phase-exit { opacity: 0; transition: opacity 200ms ease-in; }

/* Phase background transitions */
.phase-bg-transition { transition: background-color 500ms ease; }

/* ================================================================ */
/* Mobile-first PWA styles                                          */
/* ================================================================ */

input, textarea, select { font-size: 16px !important; }
html { height: -webkit-fill-available; }
body { min-height: 100dvh; min-height: -webkit-fill-available; overscroll-behavior: none; }
* { -webkit-tap-highlight-color: transparent; }
.chat-container { -webkit-overflow-scrolling: touch; scroll-behavior: smooth; }
.bottom-bar { padding-bottom: env(safe-area-inset-bottom, 0px); }
button, [role="button"], .phase-indicator { -webkit-user-select: none; user-select: none; }
.session-page { overscroll-behavior-y: contain; }

/* Full viewport height */
.h-dvh { height: 100dvh; height: -webkit-fill-available; }

/* Safe area padding */
.pb-safe { padding-bottom: env(safe-area-inset-bottom, 0px); }

/* Focus ring */
:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }

/* Selection */
::selection { background: rgba(108, 99, 255, 0.15); color: var(--text-primary); }

/* Dark autofill override */
input:-webkit-autofill {
  -webkit-box-shadow: 0 0 0 1000px var(--surface) inset;
  -webkit-text-fill-color: var(--text-primary);
}

/* Card utility â€” Tiimo style */
.card {
  background: var(--surface);
  border-radius: 1.5rem;
  box-shadow: var(--shadow-soft);
  padding: 1.5rem;
}

/* Thinner scrollbar on mobile */
@media (max-width: 768px) {
  ::-webkit-scrollbar { width: 3px; }
}
